(function(b){var v=function(r,G){function D(M,d){var i,f,e=d,g=!1;this.restart=function(){f=new Date;e=d;i=window.setTimeout(M,d)};this.resume=function(){q||(f=new Date,i=window.setTimeout(M,e));g=!1;b.isFunction(a.onResume)&&a.onResume.call(c,{remainingTime:e})};this.stop=function(){clearTimeout(i);e=d};this.pause=function(){q||(clearTimeout(i),e-=new Date-f);g=!0;b.isFunction(a.onPause)&&a.onPause.call(c)};this.isPaused=function(){return g}}function B(b){return-1===k?n:b!==k?w:!a.activeSlideAutoHeight? s:s=m.eq(b).children(".jAccordion-slideWrapper").height()+x.primary}function y(b){var c={},i=B(b),f=d.primary1;b=-1===k?b*(n+a.spacing):b<=k?b*(w+a.spacing):s+a.spacing+(b-1)*(w+a.spacing);c[f]=b;c[d.primary2]=Math.max(0,l[g.primary]-c[d.primary1]-i);return c}function z(){var c,h,i={},f=null,e={},q=[],H=[],t={};a.accordionAutoSize&&(f={},f[g.primary]=j[g.primary](),-1<k?(a.activeSlideAutoHeight&&B(k),l[g.primary]=s+(p-1)*(w+a.spacing)):l[g.primary]=p*(n+a.spacing)-a.spacing,f[g.primary]!==l[g.primary]? f[g.primary+"PreCalc"]=f[g.primary]-l[g.primary]:f=null);m.each(function(){c=b(this);h=c.prevAll(".jAccordion-slide").length;e=y(h);t[d.primary1]=c.position()[d.primary1];t[d.primary2]=parseFloat(c.css(d.primary2),10);if(t[d.primary1]!==e[d.primary1]||t[d.primary2]!==e[d.primary2])t[d.primary1+"PreCalc"]=t[d.primary1]-e[d.primary1],0!==H.length?t[d.primary2+"PreCalc"]=t[d.primary2]-e[d.primary2]:(delete e[d.primary1],i=e),q.push(t),H.push(c);t={}});return{accPrecalcProps:f,firstAnimSlideFinalStyle:i, $animSlides:H,animSlidesPrecalcProps:q}}function u(a,c){var i=a.attr("data-moveDirection"),d=a.attr("data-offset"),e={},g="true"===a.attr("data-fade"),h={};d&&i&&(e[i]=c?"-="+d:"+="+d);c?(i=parseInt(a.attr("data-speed"),10),d=a.attr("data-easing"),i=i?i:500,d=d?d:"swing",g&&(e.opacity=1,a.css("z-index",a.data("defaultIndex"))),a.animate(e,i,d,function(){b.browser.msie&&b(this)[0].style.removeAttribute("filter")})):(g&&(e.opacity=0,h["z-index"]=-999),a.stop(!0,!0).data("defaultIndex",a.css("z-index")).animate(e, 0).css(h))}function C(a,c,d){b("*[data-initEvent="+c+"]",a).each(function(){var a=b(this),c=parseInt(a.attr("data-delay"),10),c=c?c:0;d?0===c?u(b(this),!0):a.data({delayState:"running",timerDelay:setTimeout(b.proxy(function(){u(b(this).data("delayState","finished"),!0)},a.get(0)),c)}):0<c&&"running"===a.data("delayState")?clearTimeout(a.data("delayState","finished").data("timerDelay")):u(b(this),!1)})}function N(a){j.hasClass("jAccordion-keepLinksEnabled")||b("a:not(.jAccordion-keepEnabled)",a).bind("click.smartLink", function(a){a.preventDefault()})}function v(){j.css(g.primary,l[g.primary]).css(g.secondary,l[g.secondary])}function O(b){var c=j.width(),d;j.css("width","");d=j.width()/I.width;c!==j.width()||b?(l.width=Math.round(I.width*d),!a.keepAspectRatio&&a.vertical&&(d=1),l.height=Math.round(I.height*(a.keepAspectRatio?d:1)),0<a.inactiveSlideSize?(n=w=Math.round(a.inactiveSlideSize*d),a.activeSlideAutoHeight?-1<k&&(s=h.children(".jAccordion-slideWrapper").css({width:l.width-x.secondary}).height()+x.primary): s=l[g.primary]-(n+a.spacing)*(p-1)):(s=Math.round(a.activeSlideSize*d),n=Math.round((l[g.primary]-a.spacing*(p-1))/p),w=Math.max(0,Math.round((l[g.primary]-s)/(p-1))-a.spacing)),a.accordionAutoSize&&(l[g.primary]=-1<k?s+(p-1)*(w+a.spacing):(n+a.spacing)*p-a.spacing),J=!0):(v(),J=!1)}function P(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(a.event="click");if(a.arrowKeysNav||a.autoplay)a.sticky=!0;a.autoplay&&null===a.defaultActiveSlideIdx&&(a.defaultActiveSlideIdx=0); E.length!==p||a.autoplay?a.headers=E=null:(a.sticky=!0,a.event="click");0>=a.inactiveSlideSize&&(a.accordionAutoSize=!1);a.activeSlideAutoHeight&&(0>=a.inactiveSlideSize||!a.vertical?a.activeSlideAutoHeight=!1:a.accordionAutoSize=!0);-1===b.inArray(a.scaleImgs,["fit","fitWidth","fitHeight"])&&(a.scaleImgs="fit");0===b(a.prevBtn).length&&(a.prevBtn=null);0===b(a.nextBtn).length&&(a.nextBtn=null);O(!0);v();K.bind({mouseenter:function(){b.isFunction(a.onAccordionMouseEnter)&&a.onAccordionMouseEnter.call(c); a.autoplay&&a.pauseOnHover&&A.pause()},mouseleave:function(){a.sticky||(F=!0,h.triggerHandler("closeSlide"));b.isFunction(a.onAccordionMouseLeave)&&a.onAccordionMouseLeave.call(c);a.autoplay&&a.pauseOnHover&&A.resume()}});a.responsive&&b(window).resize(function(){if(Q!==b(window).width()&&(Q=b(window).width(),O(!1),J)){var c={};m.stop(!0,!0).each(function(d){b("*[data-initEvent]:animated",m.eq(d)).stop(!0,!0);c=y(d);m.eq(d).css(c).children(".jAccordion-slideWrapper").css(g.secondary,l[g.secondary]- x.secondary).css(g.primary,a.activeSlideAutoHeight?"auto":s-x.primary)});v()}});if(a.arrowKeysNav){j.attr("tabindex",-1);var r=[37,38,39,40];b(document).keydown(function(a){-1<b.inArray(a.keyCode||a.which,r)&&document.activeElement===j[0]&&a.preventDefault()});j.keyup(function(a){switch(a.keyCode||a.which){case 37:case 38:c.prev();break;case 39:case 40:c.next()}})}j.removeClass("noJS");m.each(function(){var i=b(this),f=i.prevAll(".jAccordion-slide").length,f=y(f);f.position="absolute";f[d.secondary1]= f[d.secondary2]=0;i.css(f).children().wrapAll('<div class="jAccordion-slideWrapper" />').parent(".jAccordion-slideWrapper").css(g.primary,a.activeSlideAutoHeight?"auto":s-x.primary).css(g.secondary,l[g.secondary]-x.secondary).css({position:"relative",filter:"inherit"});N(i);f=i.prevAll(".jAccordion-slide").length;null!==E&&E.eq(f).click(function(a){-1!==k&&b(this).closest(".jAccordion-slide")[0]===h[0]&&(a.stopPropagation(),c.closeSlides())});i.bind(a.event,function(){j.focus();b(this).triggerHandler("openSlide")}).bind({openSlide:function(){if(-1=== k||b(this)[0]!==h[0]){q=!0;m.stop(!0);a.autoplay&&A.stop();null!==h&&(F=!1,h.triggerHandler("closeSlide"));h=b(this).addClass(a.activeSlideClass);k=h.prevAll(".jAccordion-slide").length;var e=z(),i=e.$animSlides.length;b.isFunction(a.onSlideStartOpening)&&a.onSlideStartOpening.call(c,{$slide:h,index:k});C(h,"onSlideStartOpening",!0);C(h,"onSlideStartClosing",!1);e.$animSlides[0].animate(e.firstAnimSlideFinalStyle,{duration:a.transitionSpeed,easing:a.easing,step:function(a,b){var c;e.$animSlides[0].css(d.primary1, e.animSlidesPrecalcProps[0][d.primary1]-e.animSlidesPrecalcProps[0][d.primary1+"PreCalc"]*b.pos);for(c=1;c<i;c+=1)e.$animSlides[c].css(d.primary1,e.animSlidesPrecalcProps[c][d.primary1]-e.animSlidesPrecalcProps[c][d.primary1+"PreCalc"]*b.pos).css(d.primary2,e.animSlidesPrecalcProps[c][d.primary2]-e.animSlidesPrecalcProps[c][d.primary2+"PreCalc"]*b.pos);e.accPrecalcProps&&j.css(g.primary,e.accPrecalcProps[g.primary]-e.accPrecalcProps[g.primary+"PreCalc"]*b.pos)},complete:function(){q=!1;L=!0;b.isFunction(a.onSlideOpened)&& a.onSlideOpened.call(c,{$slide:h,index:k});C(h,"onSlideOpened",!0);a.autoplay&&!A.isPaused()&&A.restart();var d=h;j.hasClass("jAccordion-keepLinksEnabled")||b("a:not(.jAccordion-keepEnabled)",d).unbind("click.smartLink");if(h.hasClass("jAccordion-scrollbar")||j.hasClass("jAccordion-scrollbars"))h.children(".jAccordion-slideWrapper").css("overflow-"+(a.vertical?"y":"x"),"auto").css("overflow-"+(a.vertical?"x":"y"),"hidden")}})}},closeSlide:function(){q=!0;N(h);var e=h,i=k,f,l;h.removeClass(a.activeSlideClass).children(".jAccordion-slideWrapper").scrollLeft(0).scrollTop(0).css({"overflow-x":"", "overflow-y":""});h=null;k=-1;b.isFunction(a.onSlideStartClosing)&&a.onSlideStartClosing.call(c,{$slide:e,index:i});C(e,"onSlideStartOpening",!1);L&&(C(e,"onSlideOpened",!1),L=!1);C(e,"onSlideStartClosing",!0);F&&(m.stop(!0),f=z(),l=f.$animSlides.length,f.$animSlides[0].animate(f.firstAnimSlideFinalStyle,{duration:a.transitionSpeed,easing:a.easing,step:function(a,b){var c;f.$animSlides[0].css(d.primary1,f.animSlidesPrecalcProps[0][d.primary1]-f.animSlidesPrecalcProps[0][d.primary1+"PreCalc"]*b.pos); for(c=1;c<l;c+=1)f.$animSlides[c].css(d.primary1,f.animSlidesPrecalcProps[c][d.primary1]-f.animSlidesPrecalcProps[c][d.primary1+"PreCalc"]*b.pos).css(d.primary2,f.animSlidesPrecalcProps[c][d.primary2]-f.animSlidesPrecalcProps[c][d.primary2+"PreCalc"]*b.pos);f.accPrecalcProps&&j.css(g.primary,f.accPrecalcProps[g.primary]-f.accPrecalcProps[g.primary+"PreCalc"]*b.pos)},complete:function(){q=!1}}))}});b("*[data-initEvent]",i).each(function(){b(this).css({position:"absolute"===b(this).css("position")? "absolute":"relative",display:"block"});"onSlideStartClosing"!==b(this).attr("data-initEvent")&&u(b(this),!1)})});var n={};"fit"===a.scaleImgs?(n.width="100%",n.height="100%"):"fitWidth"===a.scaleImgs?n.width="100%":n.height="100%";b("img.jAccordion-img",m).removeAttr("width").removeAttr("height").css(n);null!==a.prevBtn&&a.prevBtn.click(function(b){b.stopPropagation();(!a.disableBtnsDuringTransition||a.disableBtnsDuringTransition&&!q)&&c.prev()});null!==a.nextBtn&&a.nextBtn.click(function(b){b.stopPropagation(); (!a.disableBtnsDuringTransition||a.disableBtnsDuringTransition&&!q)&&c.next()});a.autoplay&&(A=new D(function(){c.next()},a.autoplayInterval));b.isFunction(a.ready)&&(j.data("jAccordion",c),a.ready.call(c));null!==a.defaultActiveSlideIdx&&(n=a.transitionSpeed,a.transitionSpeed=0,c.goToSlide(a.defaultActiveSlideIdx),a.transitionSpeed=n,window.setTimeout(function(){b("*[data-initEvent]:animated",m.eq(a.defaultActiveSlideIdx)).each(function(){b(this).stop(!0,!0)})},100))}var a=b.extend({},b.fn.jAccordion.defaults, G),j=b(r),K=b(" > .jAccordion-slidesWrapper",j),m=b(" > .jAccordion-slide",K),p=m.length,E=b(a.headers,m),I={width:parseInt(j.css("max-width"),10),height:j.height()},l={width:0,height:0},s,n,w,g={primary:a.vertical?"height":"width",secondary:a.vertical?"width":"height"},d={primary1:a.vertical?"top":"left",primary2:a.vertical?"bottom":"right",secondary1:a.vertical?"left":"top",secondary2:a.vertical?"right":"bottom"},x={primary:parseInt(m.eq(0).css("border"+(a.vertical?"Top":"Left")+"Width"),10)+parseInt(m.eq(0).css("border"+ (a.vertical?"Bottom":"Right")+"Width"),10),secondary:parseInt(m.eq(0).css("border"+(a.vertical?"Left":"Top")+"Width"),10)+parseInt(m.eq(0).css("border"+(a.vertical?"Right":"Bottom")+"Width"),10)},F=!0,J=!1,h=null,k=-1,L=!1,Q=b(window).width(),q=!1,A=null,c=this;c.$accordion=j;c.getVersion=function(){return"1.2.2"};c.goToSlide=function(a){m.eq(a).triggerHandler("openSlide");return c};c.goToFirstSlide=function(){c.goToSlide(0);return c};c.goToLastSlide=function(){c.goToSlide(p-1);return c};c.next=function(){null=== h||k+1===p?c.goToSlide(0):c.goToSlide(k+1);return c};c.prev=function(){null===h||0===k?c.goToSlide(p-1):c.goToSlide(k-1);return c};c.closeSlides=function(){null!==h&&!a.autoplay&&(F=!0,h.triggerHandler("closeSlide"));return c};c.isAnimated=function(){return q};c.getSlidesCount=function(){return p};c.getActiveSlide=function(){return h};c.getActiveSlideIndex=function(){return k};c.isPaused=function(){return a.autoplay?A.isPaused():!1};a.preloadImages?K.imgPreloader({preloadTransitionSpeed:a.preloadTransitionSpeed, onImagesLoaded:function(){P()}}):P()};b.fn.jAccordion=function(r){return this.each(function(){b(this).data("jAccordion")||new v(this,r)})};b.fn.jAccordion.defaults={vertical:!1,activeSlideSize:650,inactiveSlideSize:0,transitionSpeed:500,spacing:0,event:"mouseenter",sticky:!1,autoplay:!1,autoplayInterval:3E3,pauseOnHover:!0,defaultActiveSlideIdx:null,preloadImages:!0,preloadTransitionSpeed:500,activeSlideClass:"active_slide",easing:"swing",responsive:!0,keepAspectRatio:!0,scaleImgs:"fit",arrowKeysNav:!1, headers:null,accordionAutoSize:!1,activeSlideAutoHeight:!1,prevBtn:null,nextBtn:null,disableBtnsDuringTransition:!0,ready:function(){},onSlideOpened:function(){},onSlideStartOpening:function(){},onSlideStartClosing:function(){},onAccordionMouseEnter:function(){},onAccordionMouseLeave:function(){},onPause:function(){},onResume:function(){}}})(jQuery); (function(b){var v=function(r,v){function D(){y.fadeIn(B.preloadTransitionSpeed,function(){b.browser.msie&&y.get(0).style.removeAttribute("filter")});b.isFunction(B.onImagesLoaded)&&B.onImagesLoaded.call()}var B=b.extend({},b.fn.imgPreloader.defaults,v),y=b(r).hide(),z=b("img",y),u=z.length;0===u&&D();z.each(function(b){var r=z.eq(b).removeAttr("alt").attr("src");z.eq(b).load(function(){u-=1;0===u&&D()}).attr("src",r)})};b.fn.imgPreloader=function(r){return this.each(function(){if(!b(this).data("imgPreloader")){var G= new v(this,r);b(this).data("imgPreloader",G)}})};b.fn.imgPreloader.defaults={preloadTransitionSpeed:500,onImagesLoaded:function(){}}})(jQuery);
